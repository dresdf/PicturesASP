@model PicturesASP.Models.Folder
@{
    ViewData["Title"] = "Home";
}

<div id="wrapper">

    @if (!Model.CurrentFolder.Equals("gallery"))
    {
        <div class="backLink">
            <a asp-action="Index" asp-controller="Home" asp-route-path="@Model.Parent"><span class="fas fa-backward"></span> @Model.Parent.ToUpperInvariant()</a>
            <div class="text-right">
                <a class="btn btn-success btn-xs button-right" href="#" data-toggle="modal" data-target="#modal_addFolder"><span class="fa fa-plus"></span> Add Folder</a>
                <a class="btn btn-success btn-xs button-right" href="#" data-toggle="modal" data-target="#modal_uploadImage"><span class="fa fa-plus"></span> Upload Image</a>
            </div>
        </div>
    }

    <div class="admin">

        <table style="width:100%;">
            <tr>
                <td></td>
                <td></td>
            </tr>
        </table>
    </div>
    @if (Model.SubFolders.Count() > 0)
    {
        <ul class="thumbnails">
            @foreach (Folder item in Model.SubFolders)
            {
                <li>
                    <a asp-action="DeleteFolder" asp-controller="Home" asp-route-folderPath="@item.CurrentFolder" asp-route-currentFolder="@Model.CurrentFolder" class="deleteBtn"><span class="fas fa-times"></span></a>
                    <a asp-action="Index" asp-controller="Home" asp-route-path="@item.CurrentFolder" style="text-align:center"><img src="~/css/images/folder.png" /><br /> <span>@item.Name</span></a>
                </li>
            }
        </ul>
    }


    @if (Model.Images.Count() > 0)
    {
        <ul class="thumbnails">
            @foreach (var item in Model.Images)
            {
                <li>
                    <a asp-action="DeleteImage" asp-controller="Home" asp-route-currentFolder="@Model.CurrentFolder" asp-route-link="@item.Link" class="deleteBtnImg"><span class="fas fa-trash-alt"></span></a>
                    <a class="photoImg"><img src="@item.Link" /></a>
                </li>
            }
        </ul>
    }
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div class="item active">
                    <img src="" style="height:400px;" class="img-responsive">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="modal_addFolder" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <form class="tagCreate" asp-action="CreateFolder" asp-controller="Home" method="post">
                <div class="modal-body">
                    <div asp-validation-summary="All" class="text-danger"></div>
                    <input id="current-folder" asp-for="CurrentFolder" value="@Model.CurrentFolder" hidden />
                    <input asp-for="Name" value="" required placeholder="Folder name" />
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-primary" value="Create Folder" />
                </div>
            </form>
        </div>
    </div>
</div>

<div class="modal fade" id="modal_uploadImage" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <form class="tagUpload" asp-action="UploadImages" asp-controller="Home" method="post" enctype="multipart/form-data">
                <div class="modal-body">
                    <input id="current-folder" asp-for="CurrentFolder" value="@Model.CurrentFolder" hidden />
                    <input type="file" id="files" aria-label="Upload photo" name="files" required multiple accept="image/*" />
                </div>
                <div class="modal-footer">
                    <input type="submit" class="btn btn-primary" data-progress="Uploading..." id="btnfiles" value="Upload File" />
                </div>
            </form>
        </div>
    </div>
</div>







@section Styles {
    <link href="~/css/index.css" rel="stylesheet" />
}
@section Scripts {
}
