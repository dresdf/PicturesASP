@model PicturesASP.Models.Folder
@{
    ViewData["Title"] = "Home";
}

<div id="wrapper">

    @if (!Model.CurrentFolder.Equals("gallery"))
    {
        <a asp-action="Index" asp-controller="Home" asp-route-path="@Model.Parent" class="backLink"><span class="fas fa-backward"></span> @Model.Parent.ToUpperInvariant()</a>
    }

    <div class="admin">
        <table style="width:100%;">
            <tr>
                <td>
                    <form class="tagCreate" asp-action="CreateFolder" asp-controller="Home" method="post">
                        <div asp-validation-summary="All" class="text-danger"></div>
                        <input id="current-folder" asp-for="CurrentFolder" value="@Model.CurrentFolder" hidden />
                        <input asp-for="Name" value="" required placeholder="Folder name" />
                        <input type="submit" value="Create Folder" />
                    </form>
                </td>
                <td>
                    <form class="tagUpload" asp-action="UploadImages" asp-controller="Home" method="post" enctype="multipart/form-data">
                        <input id="current-folder" asp-for="CurrentFolder" value="@Model.CurrentFolder" hidden />
                        <input type="file" id="files" aria-label="Upload photo" name="files" required multiple accept="image/*" />
                        <input type="submit" data-progress="Uploading..." id="btnfiles" value="Upload File" />
                    </form>
                </td>
            </tr>
        </table>


    </div>
    @if (Model.SubFolders.Count() > 0)
    {
        <ul class="thumbnails">
            @foreach (Folder item in Model.SubFolders)
            {
                <li>
                    <a asp-action="DeleteFolder" asp-controller="Home" asp-route-folderPath="@item.UrlName" asp-route-currentFolder="@Model.CurrentFolder" class="deleteBtn"><span class="fas fa-times"></span></a>
                    <a asp-action="Index" asp-controller="Home" asp-route-path="@item.UrlName" style="text-align:center"><img src="~/css/images/folder.png" /><br /> <span>@item.Name</span></a>
                </li>
            }
        </ul>
    }


    @if (Model.Images.Count() > 0)
    {
        <ul class="thumbnails">
            @foreach (var item in Model.Images)
            {
                <li>
                    <a asp-action="DeleteImage" asp-controller="Home" asp-route-currentFolder="@Model.CurrentFolder" asp-route-link="@item.Link" class="deleteBtnImg"><span class="fas fa-trash-alt"></span></a>
                    <a><img src="@item.Link" /></a>
                </li>
            }
        </ul>
    }
</div>


<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-body">
                <div class="item active">
                    <img src="" style="height:400px;" class="img-responsive">
                </div>
            </div>
        </div>
    </div>
</div>







@section Styles {
    <link href="~/css/index.css" rel="stylesheet" />
}
@section Scripts {
}
